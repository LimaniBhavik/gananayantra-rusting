STEP 22: ADD FINANCE â†’ COMPOUND INTEREST CALCULATOR
ðŸŽ¯ What this calculator does

Calculates the final amount using compound interest with compounding frequency.

Formula

ð´
=
ð‘ƒ
Ã—
(
1
+
ð‘Ÿ
ð‘›
)
ð‘›
Ã—
ð‘¡
A=PÃ—(1+
n
r
	â€‹

)
nÃ—t

Where:

P = principal

r = annual interest rate (decimal)

n = compounding periods per year

t = time in years

âœ… STEP 23: CREATE FILE

Create a new file:

src/finance/compound_interest.rs

âœ… STEP 24: ADD PURE CALCULATION LOGIC

Paste this code:

pub fn calculate_compound_interest(
    principal: f64,
    annual_rate: f64,
    years: f64,
    compounds_per_year: u32,
) -> Result<f64, String> {
    if principal <= 0.0 {
        return Err("Principal must be greater than zero".to_string());
    }
    if annual_rate < 0.0 {
        return Err("Interest rate cannot be negative".to_string());
    }
    if years <= 0.0 {
        return Err("Years must be greater than zero".to_string());
    }
    if compounds_per_year == 0 {
        return Err("Compounding frequency must be greater than zero".to_string());
    }

    let rate_per_period = annual_rate / compounds_per_year as f64;
    let total_periods = compounds_per_year as f64 * years;

    let amount = principal * (1.0 + rate_per_period).powf(total_periods);
    Ok(amount)
}

âœ… STEP 25: REGISTER MODULE

Open:

src/finance/mod.rs


Update it to:

pub mod roi;
pub mod tvm;
pub mod compound_interest;

âœ… STEP 26: CALL FROM main.rs

Update src/main.rs:

fn main() {
    println!("Welcome to gananayantra-rusting!");

    let roi = finance::roi::calculate_roi(1000.0, 1200.0);
    println!("ROI Result: {:?}", roi);

    let fv = finance::tvm::future_value(10000.0, 0.08, 5);
    println!("Future Value Result: {:?}", fv);

    let ci = finance::compound_interest::calculate_compound_interest(
        5000.0,
        0.07,
        10.0,
        4,
    );
    println!("Compound Interest Result: {:?}", ci);
}

âœ… STEP 27: RUN & VERIFY

Click Run

Expected output (approx):

Compound Interest Result: Ok(10049.33)


âœ… Calculator works.

âœ… STEP 28: ADD UNIT TEST

At bottom of compound_interest.rs:

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_compound_interest() {
        let result = calculate_compound_interest(5000.0, 0.07, 10.0, 4).unwrap();
        assert!((result - 10049.33).abs() < 0.1);
    }
}


Run:

cargo test

ðŸ§  STATUS CHECK

You now have in Finance:

âœ… ROI

âœ… TVM (Future Value)

âœ… Compound Interest

And the structure is clean and scalable.